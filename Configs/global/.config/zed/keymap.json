// Zed keymap
//
// For information on binding keys, see the Zed
// documentation: https://zed.dev/docs/key-bindings
//
// To see the default key bindings run `zed: open default keymap`
// from the command palette.
[
  // Global keybinds
  {
    "context": "Workspace",
    "bindings": {
      "ctrl-alt-shift-n": "workspace::NewWindow",
      // Hack: trigger new file in project menu
      // https://github.com/zed-industries/zed/issues/17710#issuecomment-2942264688
      "ctrl-shift-n": [
        "workspace::SendKeystrokes",
        "ctrl-shift-e ctrl-shift-n"
      ],
      "ctrl-n": ["workspace::SendKeystrokes", "ctrl-shift-e ctrl-n"],
      // Global "back to editor" button
      "ctrl-alt-enter": "workspace::ActivateNextPane",
      // Open recent
      "ctrl-r": "projects::OpenRecent"
    }
  },
  // Tab ordering
  {
    "context": "Pane",
    "bindings": {
      "ctrl-shift-tab": "pane::ActivatePreviousItem",
      "ctrl-tab": "pane::ActivateNextItem"
    }
  },
  // Editor keybinds
  {
    "context": "Editor",
    "bindings": {
      // alt-left/right to move within words
      "alt-left": "editor::MoveToPreviousSubwordStart",
      "alt-right": "editor::MoveToNextSubwordEnd",
      "alt-shift-left": "editor::SelectToPreviousSubwordStart",
      "alt-shift-right": "editor::SelectToNextSubwordEnd",
      "alt-backspace": "editor::DeleteToPreviousSubwordStart",
      "alt-delete": "editor::DeleteToNextSubwordEnd",
      // Multi-cursor with ctrl-alt-up/down
      "ctrl-alt-up": "editor::AddSelectionAbove",
      "ctrl-alt-down": "editor::AddSelectionBelow"
    }
  },
  // Project panel
  {
    "context": "ProjectPanel",
    "bindings": {
      "ctrl-n": "project_panel::NewFile",
      "ctrl-shift-n": "project_panel::NewDirectory"
    }
  },
  // Git panel
  {
    "context": "GitPanel",
    "bindings": {
      "ctrl-z": "git::Uncommit",
      "ctrl-delete": "git::RestoreTrackedFiles",
      "ctrl-s": "git::Fetch"
    }
  },
  {
    "context": "(Editor && showing_completions)",
    "bindings": {
      "enter": "editor::Newline"
    }
  }
]
